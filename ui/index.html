<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Document</title>
</head>
<body>
<h1 id="header">Welcome from Tauri!</h1>

<h1 id="errorDemo"></h1>

<h1 id="asyncDemo"></h1>

<script>
    // access the pre-bundled global API functions
    const {invoke} = window.__TAURI__.tauri

    // now we can call our Command!
    // You will see "Welcome from Tauri" replaced
    // by "Hello, World!"!
    invoke('greet', {name: 'World'})
        // `invoke` returns a Promise
        .then((response) => {
            window.header.innerHTML = response
        })

    invoke('error_handle_command')
        .then((message) => {
            window.errorDemo.innerHTML = message
        })
        .catch((error) => {
            window.errorDemo.innerHTML = error
        })

    let last = 100;
    invoke('async_command', {value: 'Solution of 1+..+' + last, bound: last})
        .then((res) => {
            window.asyncDemo.innerHTML = res
        })
        .catch((err) => {
            window.asyncDemo.innerHTML = err
        })

    invoke('get_window_command')

</script>
</body>
</html>